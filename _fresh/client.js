var n,c=0,i,a=[0,100,150,200,250,300,350,400,450,500,500,605,750,1e3,1250,1500,1750,2e3],o=0;function s(){n.readyState===n.CLOSED&&(i=setTimeout(()=>{o===0&&console.log("%c Fresh %c Connection closed. Trying to reconnect...","background-color: #86efac; color: black","color: inherit"),o++;try{r(),clearTimeout(i)}catch{s()}},a[Math.min(o,a.length-1)]))}function r(){let e=new URL("/_frsh/alive",location.origin.replace("http","ws"));n=new WebSocket(e),n.addEventListener("open",()=>{o=0,console.log("%c Fresh %c Connected to development server.","background-color: #86efac; color: black","color: inherit")}),n.addEventListener("close",()=>{s()}),n.addEventListener("message",l),n.addEventListener("error",d)}r();function l(e){let t=JSON.parse(e.data);switch(t.type){case"initial-state":c===0?c=t.revision:c<t.revision&&location.reload()}}function d(e){e&&e.code==="ECONNREFUSED"&&setTimeout(r,1e3)}
